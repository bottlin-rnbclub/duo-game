{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\russi\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\duo\\\\duo-game\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport HeroSettings from './HeroSettings';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const canvasRef = useRef(null);\n  const [heroes, setHeroes] = useState([{\n    x: 50,\n    y: 150,\n    dy: 2,\n    color: 'red',\n    spellColor: 'blue',\n    spellFrequency: 1000,\n    speed: 2\n  }, {\n    x: 550,\n    y: 150,\n    dy: 2,\n    color: 'green',\n    spellColor: 'purple',\n    spellFrequency: 1000,\n    speed: 2\n  }]);\n  const [spells, setSpells] = useState([]);\n  const [mousePosition, setMousePosition] = useState({\n    x: 0,\n    y: 0\n  });\n  const [selectedHero, setSelectedHero] = useState(null);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const updateGame = () => {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      drawHeroes(ctx);\n      drawSpells(ctx);\n      updateHeroesPosition();\n      updateSpellsPosition();\n      detectCollisions();\n      requestAnimationFrame(updateGame);\n    };\n    updateGame();\n  }, [heroes, spells]);\n  const drawHeroes = ctx => {\n    heroes.forEach(hero => {\n      ctx.fillStyle = hero.color;\n      ctx.beginPath();\n      ctx.arc(hero.x, hero.y, 20, 0, Math.PI * 2);\n      ctx.fill();\n    });\n  };\n  const drawSpells = ctx => {\n    spells.forEach(spell => {\n      ctx.fillStyle = spell.color;\n      ctx.beginPath();\n      ctx.arc(spell.x, spell.y, 5, 0, Math.PI * 2);\n      ctx.fill();\n    });\n  };\n  const updateHeroesPosition = () => {\n    setHeroes(prevHeroes => prevHeroes.map(hero => {\n      let newY = hero.y + hero.dy * hero.speed;\n      if (newY < 20 || newY > canvasRef.current.height - 20) {\n        hero.dy = -hero.dy;\n      }\n      if (Math.abs(newY - mousePosition.y) < 20) {\n        hero.dy = -hero.dy;\n      }\n      return {\n        ...hero,\n        y: newY\n      };\n    }));\n  };\n  const updateSpellsPosition = () => {\n    setSpells(prevSpells => prevSpells.map(spell => ({\n      ...spell,\n      x: spell.x + spell.dx,\n      y: spell.y + spell.dy\n    })).filter(spell => spell.x > 0 && spell.x < canvasRef.current.width && spell.y > 0 && spell.y < canvasRef.current.height));\n  };\n  const detectCollisions = () => {\n    spells.forEach(spell => {\n      heroes.forEach(hero => {\n        if (Math.hypot(spell.x - hero.x, spell.y - hero.y) < 25) {\n          // Collision detected\n          setSpells(prevSpells => prevSpells.filter(s => s !== spell));\n        }\n      });\n    });\n  };\n  const handleMouseMove = e => {\n    const rect = canvasRef.current.getBoundingClientRect();\n    setMousePosition({\n      x: e.clientX - rect.left,\n      y: e.clientY - rect.top\n    });\n  };\n  const handleCanvasClick = e => {\n    const rect = canvasRef.current.getBoundingClientRect();\n    const clickX = e.clientX - rect.left;\n    const clickY = e.clientY - rect.top;\n    heroes.forEach((hero, index) => {\n      if (Math.hypot(hero.x - clickX, hero.y - clickY) < 20) {\n        setSelectedHero(index);\n      }\n    });\n  };\n  const handleChangeSettings = (index, settings) => {\n    setHeroes(prevHeroes => prevHeroes.map((hero, i) => i === index ? {\n      ...hero,\n      ...settings\n    } : hero));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      width: 600,\n      height: 400,\n      onMouseMove: handleMouseMove,\n      onClick: handleCanvasClick,\n      style: {\n        border: '1px solid black'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), selectedHero !== null && /*#__PURE__*/_jsxDEV(HeroSettings, {\n      hero: heroes[selectedHero],\n      onChange: settings => handleChangeSettings(selectedHero, settings)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"XIQdh/Qc87hUBz47vIZP04zx+os=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useRef","useEffect","useState","HeroSettings","jsxDEV","_jsxDEV","App","_s","canvasRef","heroes","setHeroes","x","y","dy","color","spellColor","spellFrequency","speed","spells","setSpells","mousePosition","setMousePosition","selectedHero","setSelectedHero","canvas","current","ctx","getContext","updateGame","clearRect","width","height","drawHeroes","drawSpells","updateHeroesPosition","updateSpellsPosition","detectCollisions","requestAnimationFrame","forEach","hero","fillStyle","beginPath","arc","Math","PI","fill","spell","prevHeroes","map","newY","abs","prevSpells","dx","filter","hypot","s","handleMouseMove","e","rect","getBoundingClientRect","clientX","left","clientY","top","handleCanvasClick","clickX","clickY","index","handleChangeSettings","settings","i","children","ref","onMouseMove","onClick","style","border","fileName","_jsxFileName","lineNumber","columnNumber","onChange","_c","$RefreshReg$"],"sources":["C:/Users/russi/OneDrive/Рабочий стол/duo/duo-game/src/App.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport HeroSettings from './HeroSettings';\n\nconst App = () => {\n  const canvasRef = useRef(null);\n  const [heroes, setHeroes] = useState([\n    { x: 50, y: 150, dy: 2, color: 'red', spellColor: 'blue', spellFrequency: 1000, speed: 2 },\n    { x: 550, y: 150, dy: 2, color: 'green', spellColor: 'purple', spellFrequency: 1000, speed: 2 }\n  ]);\n  const [spells, setSpells] = useState([]);\n  const [mousePosition, setMousePosition] = useState({ x: 0, y: 0 });\n  const [selectedHero, setSelectedHero] = useState(null);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n\n    const updateGame = () => {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      drawHeroes(ctx);\n      drawSpells(ctx);\n      updateHeroesPosition();\n      updateSpellsPosition();\n      detectCollisions();\n      requestAnimationFrame(updateGame);\n    };\n\n    updateGame();\n  }, [heroes, spells]);\n\n  const drawHeroes = (ctx) => {\n    heroes.forEach(hero => {\n      ctx.fillStyle = hero.color;\n      ctx.beginPath();\n      ctx.arc(hero.x, hero.y, 20, 0, Math.PI * 2);\n      ctx.fill();\n    });\n  };\n\n  const drawSpells = (ctx) => {\n    spells.forEach(spell => {\n      ctx.fillStyle = spell.color;\n      ctx.beginPath();\n      ctx.arc(spell.x, spell.y, 5, 0, Math.PI * 2);\n      ctx.fill();\n    });\n  };\n\n  const updateHeroesPosition = () => {\n    setHeroes(prevHeroes =>\n      prevHeroes.map(hero => {\n        let newY = hero.y + hero.dy * hero.speed;\n        if (newY < 20 || newY > canvasRef.current.height - 20) {\n          hero.dy = -hero.dy;\n        }\n        if (Math.abs(newY - mousePosition.y) < 20) {\n          hero.dy = -hero.dy;\n        }\n        return { ...hero, y: newY };\n      })\n    );\n  };\n\n  const updateSpellsPosition = () => {\n    setSpells(prevSpells =>\n      prevSpells.map(spell => ({\n        ...spell,\n        x: spell.x + spell.dx,\n        y: spell.y + spell.dy\n      }))\n      .filter(spell => spell.x > 0 && spell.x < canvasRef.current.width && spell.y > 0 && spell.y < canvasRef.current.height)\n    );\n  };\n\n  const detectCollisions = () => {\n    spells.forEach(spell => {\n      heroes.forEach(hero => {\n        if (Math.hypot(spell.x - hero.x, spell.y - hero.y) < 25) {\n          // Collision detected\n          setSpells(prevSpells => prevSpells.filter(s => s !== spell));\n        }\n      });\n    });\n  };\n\n  const handleMouseMove = (e) => {\n    const rect = canvasRef.current.getBoundingClientRect();\n    setMousePosition({\n      x: e.clientX - rect.left,\n      y: e.clientY - rect.top\n    });\n  };\n\n  const handleCanvasClick = (e) => {\n    const rect = canvasRef.current.getBoundingClientRect();\n    const clickX = e.clientX - rect.left;\n    const clickY = e.clientY - rect.top;\n\n    heroes.forEach((hero, index) => {\n      if (Math.hypot(hero.x - clickX, hero.y - clickY) < 20) {\n        setSelectedHero(index);\n      }\n    });\n  };\n\n  const handleChangeSettings = (index, settings) => {\n    setHeroes(prevHeroes =>\n      prevHeroes.map((hero, i) => (i === index ? { ...hero, ...settings } : hero))\n    );\n  };\n\n  return (\n    <div>\n      <canvas\n        ref={canvasRef}\n        width={600}\n        height={400}\n        onMouseMove={handleMouseMove}\n        onClick={handleCanvasClick}\n        style={{ border: '1px solid black' }}\n      />\n      {selectedHero !== null && (\n        <HeroSettings\n          hero={heroes[selectedHero]}\n          onChange={(settings) => handleChangeSettings(selectedHero, settings)}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}